#application: qa-umd
#version: 15

application: qa-umd-test
version: dev

runtime: python27
api_version: 1
threadsafe: yes

handlers:
- url: /favicon\.ico
  static_files: favicon.ico
  upload: favicon\.ico

- url: /images
  static_dir: images

- url: /css
  static_dir: css

- url: /js
  static_dir: js
  
- url: .*
  script: main.app

libraries:
- name: webapp2
  version: "2.5.2"

inbound_services:
- channel_presence
- warmup

# requests may go to a pending queue if an instance isn't available (check logs for pending_ms)
# new instances will be loaded if needed to handle the increased load, etc. (check logs for loading_request=1)
# The minimum # of idle instances is set to 1 in GAE admin console
# warmup must be enabled to set the min # of idle instances (and it must be a paid app)

# warmup: App Engine attempts to detect when your application needs a new instance, 
# and (assuming that warmup requests are enabled for your application) initiates a warmup 
# request to initialize the new instance. However, these detection attempts do not work in 
# every case. As a result, you may encounter loading requests, even if warmup requests are 
# enabled in your app. For example, if your app is serving no traffic, the first request to the 
# app will always be a loading request, not a warmup request.
# Source: https://developers.google.com/appengine/docs/python/config/appconfig#Python_app_yaml_Warmup_requests
 
# idle instances: If you set a minimum number of idle instances, the pending latency slider will
# have less effect on your application's performance. Because App Engine keeps idle instances in 
# reserver, it is unlikely that requests will enter the pending queue except in exceptionally high 
# load spikes. You will need to test your application and expected traffic volume to determine the 
# ideal number of instances to keep in reserve.
# Source: https://developers.google.com/appengine/docs/adminconsole/performancesettings#Setting_the_Number_of_Idle_Instances

# More about pending queues and loading requests on App Engine:
# http://bjk5.com/post/40833194761/pending-queues-and-loading-requests-on-app-engine
# (suggests setting min idle instances so Total Instances (blue) > Billed Instances (green) does not occur)