<!--
Copyright 2013 Ben Bederson - http://www.cs.umd.edu/~bederson
Anne Rose - http://www.cs.umd.edu/hcil/members/arose
University of Maryland

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% extends "base.html" %}

{% block title %}Q &amp; A - Admin{% endblock %}
{% block css %}
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />
{% endblock %}
{% block scripts %}
	<script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
	<script type="text/javascript" src="js/admin.js"></script>
{% endblock %}

{% block content %}
	<h1>Administration Interface</h1>
	<div id="msg" class="warning spaceafter">{{ msg }}</div>
	<div id="page_content" style="display:none">
	<hr>
	<div id="selected_question" style="display:none">
	<div id="question"></div>
	<input id="active_cb" type="checkbox" name="active_cb" class="spaceafter"> Active<br>	
	<table class="padright padbottom">
		<tr>
			<td>
				<table class="padright padbottom">
					<tr valign="top">
						<td>
							<input id="p1button" type="button" class="phase_button">
						</td>
						<td>
							Go to <a id="notes_link">add notes</a>
						</td>
						<td class="stats">
							&nbsp;
						</td>
					</tr>
					<tr valign="top">
						<td>
							<input id="p2button" type="button" class="phase_button">
						</td>
						<td>
							<div class="spaceafter">Go to <a id="cascade_link">Cascade</a></div>
							<table class="smallpadbottom">
							<tr>
							<td><input id="cascade_k" class="cascade_option" type="text" size="3"></input></td>
							<td>k <span class="note">(redundancy factor)</span></td>
							</tr>
							<tr>
							<td><input id="cascade_k2" class="cascade_option" type="text" size="3"></input></td>
							<td>k2 <span class="note">(redundancy factor for category fit tasks)</span></td>
							</tr>
							<tr>
							<td><input id="cascade_m" class="cascade_option" type="text" size="3"></input></td>
							<td>m <span class="note">(# notes in initial set)</span></td>
							</tr>
							<tr>
							<td><input id="cascade_p" class="cascade_option" type="text" size="3"></input></td>
							<td>p <span class="note">(% of overlap used to detect duplicate categories; 0 means do not merge)</span></td>
							</tr>
							<tr>
							<td><input id="cascade_t" class="cascade_option" type="text" size="3"></input></td>
							<td>t <span class="note">(# tasks grouped together in some steps)</span></td>
							</tr>
							</table>
							<br/>
							=> <a id="results_link">See results</a><br/>
							<div id="cascade_stats"></div>
						</td>
						<td>
							<div id="cascade_estimates"></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
	</div>
	
	<h2 class="spaceafter">Create a new question:</h2>
	<table class="padright largespaceafter">
		<tr>
			<td>
				Title
			</td>
			<td width="100%">
				<input id="newq_title" type="text" name="title" size="60">
			</td>
		</tr>
		<tr>
			<td>
				Question
			</td>
			<td>
				<input id="newq_question" type="text" name="question" size="60">
			</td>
		</tr>
		<tr>
			<td valign="top">
				Options
			</td>
			<td class="padbottom">
				<input id="newq_nickname_authentication" type="checkbox" name="nickname_authentication"> Nickname authentication<br>
				<span class="note">Google authentication required by default</span>
			</td>
		</tr>
		<tr>
			<td>
			</td>
			<td>
				<input id="newq_button" type="submit" value="Create new question" class="spaceafter">
				<div id="newq_info" class="warning"></div>
			</td>
		</tr>
	</table>

	<h2>Your existing questions:</h2>
	<div id="question_list"><p>Loading ...</p></div>
	
	<div id="delete_confirm" title="Delete Confirmation" class="dialog" style="display:none">
	<p><span class="ui-icon ui-icon-alert" style="float:left; margin: 0 7px 0 0;"></span>
	All data associated with this question will be permanently deleted and cannot be recovered. Are you sure?</p>
	</div>

	<div id="cascade_confirm" title="Delete Confirmation" class="dialog" style="display:none">
	<p><span class="ui-icon ui-icon-alert" style="float:left; margin: 0 7px 0 0;"></span>
	Any existing Cascade data associated with this question will be permanently deleted and cannot be recovered. Are you sure?</p>
	</div>	
	</div>
{% endblock %}